<!DOCTYPE html>
{% extends 'blog/base.html' %}
{% block content %}
{% load static %}
    <div class="container" align="center">
        <h1>GCAM genebased results</h1>
        <!--<h2 id="title" onclick="sayBye();">Hello</h2>-->
        <div class="result">

            <h2>Cell-type fraction comparison</h2><br>
            <p align="justify">Plot shows the cell-type fraction change in sample with respect to control.</p>
            <img class="warnings" style="width: 80%; height: 80%;"
                 src="{% static rfolder|add:'/GCAM_stacks.svg' %}" alt="cell-type fractions not produced!!!" /><br>

            <h2>Gene-celltype enrichment heatmap</h2><br>
            <p align="justify">Heatmap shows changes in celltype cofficient with respect to control.</p>
            <img class="warnings" style="width: 100%; height: 100%;"
                 src="{% static rfolder|add:'/GCAM_cofficients.svg' %}" alt="cell-type coefficient not found!!!" /><br>

            <h2>Significant celltypes</h2>
            <div id="sigcelltype">
                <p align="justify">Table list all the enriched celltypes with p-value less than 0.05.</p>
            <!--<table id="sigcelltype" class="display" width="100%" >-->
            </div>

            <h2>Celltype significance plot</h2>
            <p align="justify">Celltype significance plot visualizes enriched celltypes within the selected gene names.
            Y-axis represent number of genes associated with cell-type and respective circle size represent significance.
            <b>Red dotted line represent celltype with at-least provided gene cluster size (default:20)</b>.</p>
            <img class="warnings" style="width: 80%; height: 80%;"
                 src="{% static rfolder|add:'/GCAM_SigCelltype.svg' %}" alt="No significant celltype were found!!!" /><br>

            <h2>Significant tissue type plot</h2>
            <p align="justify">Significant tissue type plot clusters celltypes based on enrichment and provide an overview about
            over-represented tissue type within the input gene.</p>
            <img class="warnings" style="width: 50%; height: 50%;"
                 src="{% static rfolder|add:'/GCAM_redar.svg' %}" alt="No significant tissue type were found!!!" /><br>

            <h2>Gene-celltype enrichment heatmap</h2><br>
            <p align="justify">Heatmap shows association of cell-types for each gene in input query. Association is based
            on co-ocurrence of gene and cell-type in all abstracts gene is annotated.</p>
            <img class="warnings" style="width: 80%; height: 80%;"
                 src="{% static rfolder|add:'/GCAM_heatMap.svg' %}" alt="Gene-celltype enrichment heatmap not found!!!" /><br>
        </div>
    </div>
    <script>
        //http://bl.ocks.org/ahmohamed/4c4980f31abdef64e7e2
        var file_path = "{% static rfolder|add:'/GCAM_sigCelltypes.tsv' %}";
        console.log(file_path);
        readtable(file_path, '#sigcelltype')

    </script>
{% endblock %}